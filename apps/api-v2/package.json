{
  "name": "api-v2",
  "type": "module",
  "scripts": {
    "dev": "wrangler dev",
    "deploy": "wrangler deploy --minify",
    "cf-typegen": "wrangler types --env-interface CloudflareBindings",
    "lint": "eslint .",
    "check-types": "tsc --noEmit",
    "migrate:local": "wrangler d1 execute eduguard-db --local --file=./migrations/0000_skinny_maestro.sql && wrangler d1 execute eduguard-db --local --file=./migrations/0001_add_classes_attendance_tables.sql && wrangler d1 execute eduguard-db --local --file=./migrations/0002_add_grade_sections_attendance_drilldown.sql && wrangler d1 execute eduguard-db --local --file=./migrations/0003_add_external_image_id.sql && wrangler d1 execute eduguard-db --local --file=./migrations/0004_add_calls_and_reasoning.sql",
    "migrate:0001": "wrangler d1 execute eduguard-db --local --file=./migrations/0001_add_classes_attendance_tables.sql",
    "migrate:0002": "wrangler d1 execute eduguard-db --local --file=./migrations/0002_add_grade_sections_attendance_drilldown.sql",
    "migrate:0003": "wrangler d1 execute eduguard-db --local --file=./migrations/0003_add_external_image_id.sql",
    "migrate:remote": "wrangler d1 execute eduguard-db --remote --file=./migrations/0000_skinny_maestro.sql",
    "seed:local": "curl -X POST http://localhost:8787/api/seed",
    "sync-faces": "curl -X POST http://localhost:8787/api/seed/sync-faces",
    "seed:full": "pnpm seed:local && pnpm sync-faces",
    "db:reset": "rm -rf .wrangler/state && pnpm migrate:local"
  },
  "dependencies": {
    "@aws-sdk/client-rekognition": "^3.699.0",
    "@aws-sdk/client-s3": "^3.699.0",
    "@aws-sdk/s3-request-presigner": "^3.699.0",
    "@repo/shared-types": "workspace:*",
    "drizzle-orm": "^0.44.7",
    "hono": "^4.10.3"
  },
  "devDependencies": {
    "@repo/eslint-config": "workspace:*",
    "@types/node": "^24.9.1",
    "drizzle-kit": "^0.31.5",
    "typescript": "^5.9.3",
    "wrangler": "^4.4.0"
  }
}
